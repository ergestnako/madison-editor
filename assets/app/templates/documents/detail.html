<div ng-controller="DocumentDetailController" ng-cloak class="document-detail">
  <header class="doc-meta">

    <div class="save-status">
      <span class="icon"></span>
      <span ng-if="status == 'saved'" class="saved" translate="admin.form.state.saved"></span>
      <span ng-if="status == 'saving'" class="saving" translate="admin.form.state.saving"></span>
      <span ng-if="status == 'unsaved'" class="unsaved" translate="admin.form.state.unsaved"></span>
    </div>

    <div class="error" ng-show="form.errors.general">
      {{ form.errors.general }}
    </div>

    <fieldset>
      <label for="doc.title" translate="admin.form.document.labels.title"></label>
      <input id="doc.title" ng-model="model.title" />
      <span class="error" ng-show="form.errors.title">{{ form.errors.title | translate }}</span>
    </fieldset>
    <fieldset>
      <label for="doc.slug" translate="admin.form.document.labels.url"></label>
      https://mymadison.io/docs/<input ng-model="model.slug" />
      <span class="error" ng-show="form.errors.slug">{{ form.errors.slug | translate }}</span>
    </fieldset>
    <fieldset>
      <label for="doc.type_id" translate="admin.form.document.labels.doctype"></label>
      <select ng-model="model.type_id"
          ng-options="type.id as type.name for type in types">
        <option value=""></option>
      </select>
      <span class="error" ng-show="form.errors.type_id">{{ form.errors.type_id | translate }}</span>
    </fieldset>
    <fieldset>
      <label for="doc.publish_state" translate="admin.form.document.labels.publishstate"></label>
      <select ng-model="model.publish_state"
          ng-options="state.value as state.name for state in publishStates">
        <option value=""></option>
      </select>
      <span class="error" ng-show="form.errors.publish_state">{{ form.errors.publish_state | translate }}</span>
    </fieldset>
    <fieldset>
      <label for="doc.is_template" translate="admin.form.document.labels.is_template"></label>
      <input type="checkbox" name="is_template" id="is_template"
          ng-model="model.is_template" ng-checked="model.is_template" />
      <span class="error" ng-show="form.errors.is_template">{{ form.errors.is_template | translate }}</span>
    </fieldset>
  </header>

	<iframe src="{{ model.id | etherpadUrl:{copy:copyId} }}" style="width: 100%; height: 600px;"></iframe>
</div>
